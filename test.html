<html lang="en">
  <head>
    <title>FM GLASSES AR</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="https://api.fittingmonster.com/css/api/fm.api_v5.css" />
  </head>
  <body>
    <!-- TRY ON button -->
    <button class="fm-fitting-btn btn-fm">
      <div>TRY-ON</div>
    </button>
    <!-- Fitting display -->
    <div id="fm-fitting-display"></div>
    <!-- Popup background -->
    <div id="fm-popup-bg"></div>
 
    <!--Load the AJAX API-->
    <script src="https://code.jquery.com/jquery.min.js"></script>
    <script src="https://api.fittingmonster.com/js/api/fm.api.live_v2.js"></script>
    <script>
      /* Setting companykey */
      let companykey = "xlei4EaTNrAe5kMVsNGXDyxXkfeozeWx47YAJ6ub8SEZfDYFZ7J/E3HcG5WGmKGJ";
 
      /* Setting productkey */
      var productkey = "product01";
 
      /* Productkey setting sample */
      /*
      var productkey = getUrlParams().idx;
      function getUrlParams() {
        var params = {};
        window.location.search.replace(/[?&]+([^=&]+)=([^&]*)/gi, function(str, key, value) {
          params[key] = value;
        });
        return params;
      }
      /* productkey validation */
      /*
        Check the validity of the product key after entering the page.
        If the product key is valid, the fitting button is displayed.
        If you want to always expose the fitting button, use "$('.fm-fitting-btn').show();" instead of executing the check function below.
      */
      checkProductKey(function (result) {
        if (result == 0) {
          $('.fm-fitting-btn').show();
          console.log("success");
        } else if (result == -1) {
          $('.fm-fitting-btn').hide();
          console.log("No receive information");
        } else if (result == 1) {
          $('.fm-fitting-btn').hide();
          console.log("Companykey error");
        } else if (result == 2) {
          $('.fm-fitting-btn').hide();
          console.log("Productkey error");
        } else if (result == 3) {
          $('.fm-fitting-btn').hide();
          console.log("Not suported app");
        }
      });
 
      /* (Optional) Set capture image name */
      /*
        You can change the name of the downloaded file after capture.
        Even if you don't set it, 'fm-fitting-capture.png' is set by default, so you only need to set it if you need to change the file name.
      */
      fmCaptureFilename = 'fm-fitting-capture.png';
 
      /* (Optional) Set contact lens fitting transparency initial value */
      /*
        Set the initial transparency (0~100) of the contact lens fitting when opening the virtual fitting screen.
        80 is set by default even if not set.
      */
      lensAlpha = 50;
    </script>
  </body>
</html>
